<!DOCTYPE html>
<html>
<head>
	<title>Tenpu na Cabo Verde</title>
	<link rel="stylesheet" type="text/css" href="glider.css">
	<link rel="stylesheet" type="text/css" href="cvww.css">
	<script src="glider.js"></script>
</head>
<body>

	<article class="glider-cvww">

	<div class="glider-contain">
		<div class="glider">
			<div class="isvg"
			style="background-image: url('map/bv.svg'">
				
				<div class="temp" id="i0"></div>
				<img  id="ic0" class="wicon" src="">
				<div class="ilia"><h1>BRAVA</h1></div>
				<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

			</div>
			<div
			class="isvg"
			style="background-image: url('map/fg.svg'">
				<div class="temp" id="i1"></div>
			<img id="ic1" class="wicon" src="">
			<div class="ilia"><h1>FOGO</h1></div>
			</div>
			<div
			class="isvg"
			style="background-image: url('map/st.svg'">
				<div class="temp" id="i2"></div>
			<img id="ic2"  class="wicon"src="">
			<div class="ilia"><h1>SANTIAGO</h1></div>
			</div>
			<div
			class="isvg"
			style="background-image: url('map/mi.svg'">
				<div class="temp" id="i3"></div>
			<img  id="ic3" class="wicon"src="">
			<div class="ilia"><h1>MAIO</h1></div>
			</div>
			<div
			class="isvg"
			style="background-image: url('map/bvt.svg'">
				<div class="temp" id="i4"></div>
			<img id="ic4" class="wicon" src="">
			<div class="ilia"><h1>BOA VISTA</h1></div>
			</div>
			<div
			class="isvg"
			style="background-image: url('map/sl.svg'">
				<div class="temp" id="i5"></div>
			<img id="ic5"  class="wicon" src="">
			<div class="ilia"><h1>SALL</h1></div>
			</div>
			<div
			class="isvg"
			style="background-image: url('map/sncl.svg'">
				<div class="temp" id="i6"></div>
			<img id="ic6"  class="wicon" src="">
			<div class="ilia"><h1>SÃO NICOLAU</h1></div>
			</div>
			<div
			class="isvg"
			style="background-image: url('map/svct.svg'">
				<div class="temp" id="i7"></div>
			<img id="ic7" class="wicon" src="">
			<div class="ilia"><h1>SÃO VICENTE</h1></div>
			</div>
			<div
			class="isvg"
			style="background-image: url('map/stt.svg'">
				<div class="temp" id="i8"></div>
			<img id="ic8"  class="wicon" src="">
			<div class="ilia"><h1>SANTO ANTÃO</h1></div>
			</div>
		</div>
		<button aria-label="Previous" class="glider-prev">«</button>
  		<button aria-label="Next" class="glider-next">»</button>

  		<div class="thumbs">
  			<button
  			class="thumb"
  			data-glider-index="0"
  			style="background-image: url('map/bv.svg');">
  			</button>
  			<button
  			class="thumb"
  			data-glider-index="1"
  			style="background-image: url('map/fg.svg');">	
  			</button>
  			<button
  			class="thumb"
  			data-glider-index="2"
  			style="background-image: url('map/st.svg');">
  			</button>
  			<button
  			class="thumb"
  			data-glider-index="3"
  			style="background-image: url('map/mi.svg');">	
  			</button>
  			<button
  			class="thumb"
  			data-glider-index="4"
  			style="background-image: url('map/bvt.svg');">
  			</button>
  			<button
  			class="thumb"
  			data-glider-index="5"
  			style="background-image: url('map/sl.svg');">	
  			</button>
  			<button
  			class="thumb"
  			data-glider-index="6"
  			style="background-image: url('map/sncl.svg');">
  			</button>
  			<button
  			class="thumb"
  			data-glider-index="7"
  			style="background-image: url('map/svct.svg');">	
  			</button>
  			<button
  			class="thumb"
  			data-glider-index="8"
  			style="background-image: url('map/stt.svg');">	
  			</button>
  		</div>

	</article>
	<div id="id01"></div>

<script>
	state = 0;
function done(){
	var list=[
	'brava cabo verde',
	'fogo cabo verde',
	'praia cabo verde',
	'maio cabo verde',
	'boa vista cabo verde',
	'sal cabo verde',
	'sao vicente cabo verde',
	'sao nicolao cabo verde',
	'saonto antao cabo verde']

	for(i = 0; i <=8; i++){
		getTimeData(list[i]);
	};
	
	
}
function setVal(lc,myArr){
	lc = {'temp':myArr.current.temp_c,'condition':myArr.current.condition.text};
	document.getElementById('i'+state).innerHTML = lc.temp +' \u2103';
	setIcon(lc.condition, state);

	state = state + 1;
	console.log(lc);
	

};

function changeSrc(atr,s){document.getElementById('ic'+ s).src='icons/animated/'+atr+'.svg';}
function setIcon(lcc,s){
		if (lcc == 'Sunny') changeSrc('day',s);
		else if(lcc== 'Partly cloudy')changeSrc('cloudy-day-1',s);
		else if(lcc== 'Cloudy')changeSrc('cloudy-day-2',s);
		else if(lcc== 'Overcast')changeSrc('cloudy',s);
		else if(lcc== 'Mist')changeSrc('cloudy-day-1',s);
		//else if(lcc== 'Blowing snow')changeSrc('',s);
		//else if(lcc== 'Fog')changeSrc('',s);
		else if(lcc== 'Patchy rain possible')changeSrc('rainy-2',s);
		else if(lcc== 'Patchy light rain')changeSrc('rainy-1',s);
		else if(lcc== 'Light rain')changeSrc('rainy-2',s);
		else if(lcc== 'Light rain shower')changeSrc('rainy-3',s);
		else if(lcc== 'Moderate rain at times')changeSrc('rainy-4',s);
		else if(lcc== 'Heavy rain')changeSrc('rainy-5',s);
		else if(lcc== 'Moderate or heavy rain shower')changeSrc('rainy-6.svg',s);
		else if(lcc== 'Torrential rain shower')changeSrc('rainy-7',s);
	
}
function getTimeData(city,lc){
	var lc = {};
	var xmlhttp = new XMLHttpRequest();
	var url = "http://api.weatherapi.com/v1/current.json?key=f8e58ec36d0b48f5aca194718220203&q="+ city +"&aqi=yes";

	function reqListener () {
		var myArr = JSON.parse(this.responseText);
  		//console.log(this.responseText);
 		 
 		 //console.log(timeData);
 		 setVal(lc,myArr);
 		 
};


var oReq = new XMLHttpRequest();
oReq.onload = reqListener;
oReq.open("get", url, true);
oReq.send();
return lc;
}done();



</script>

</body>
<script src="cvww.js"></script>
</html>